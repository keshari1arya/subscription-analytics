<app-page-title [breadcrumbItems]="breadCrumbItems" [title]="'Connecting Provider'"></app-page-title>

<div class="row justify-content-center">
  <div class="col-lg-6 col-md-8">
    <div class="card">
      <div class="card-body text-center">
        
        <!-- Loading State -->
        <div *ngIf="loading && !error && !success" class="py-5">
          <app-loader></app-loader>
          <h5 class="mt-3 text-primary">{{ processingMessage }}</h5>
          <p class="text-muted mt-2">Please don't refresh this page. You'll be automatically redirected.</p>
        </div>

        <!-- Success State -->
        <div *ngIf="success" class="py-5">
          <div class="mb-4">
            <i class="fas fa-check-circle fa-4x text-success"></i>
          </div>
          <h4 class="text-success mb-3">Connection Successful!</h4>
          <p class="text-muted mb-4">{{ processingMessage }}</p>
          <p class="text-muted small">You'll be redirected to the providers dashboard in a few seconds...</p>
          
          <div class="mt-4">
            <button type="button" class="btn btn-primary" (click)="goToProviders()">
              <i class="fas fa-arrow-right me-2"></i>Go to Providers Dashboard
            </button>
          </div>
        </div>

        <!-- Error State -->
        <div *ngIf="error" class="py-5">
          <div class="mb-4">
            <i class="fas fa-exclamation-triangle fa-4x text-danger"></i>
          </div>
          <h4 class="text-danger mb-3">Connection Failed</h4>
          <div class="alert alert-danger" role="alert">
            <i class="fas fa-info-circle me-2"></i>
            {{ error }}
          </div>
          
          <div class="mt-4">
            <button type="button" class="btn btn-primary me-2" (click)="retryConnection()">
              <i class="fas fa-redo me-2"></i>Try Again
            </button>
            <button type="button" class="btn btn-outline-secondary" (click)="goToProviders()">
              <i class="fas fa-arrow-left me-2"></i>Back to Providers
            </button>
          </div>
        </div>

      </div>
    </div>
  </div>
</div> 